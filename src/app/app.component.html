<div class="col-sm-4">
  <agm-map
    [latitude]="lat"
    [longitude]="lng"
    [zoom]="zoom"
    [mapTypeId]="mapTypeId"
  >
    <agm-marker [latitude]="lat" [longitude]="lng">
      <agm-info-window (ngModelChange)="(pets.reporte)"> </agm-info-window>
    </agm-marker>
    <agm-marker
      *ngFor="let mascota of mascotass; let i = index"
      [latitude]="mascota.lat"
      [longitude]="mascota.long"
    >
      <agm-info-window>
        <img width='254' height='355' [src]="mascota.foto">

        {{ mascota.reporte }}</agm-info-window>
      
    </agm-marker>
  </agm-map>
</div>
<form #myForm="ngForm">
  <div class="col-xs-3" style="text-align: center">
    <input
      id="checkPerdida"
      type="checkbox"
      [(ngModel)]="opcion1"
      name="check"
    />Pérdida<br />
    <input
      id="checkAbandono"
      type="checkbox"
      [(ngModel)]="opcion2"
      name="check"
    />Abandonado/a<br />

    <textarea
      type="textArea"
      [(ngModel)]="pets.reporte"
      name="reporte"
      placeholder="Describe los hechos"
    ></textarea>
    <br />

    <!-- <button
      type="button"
      class="btn btn-light"
      data-toggle="modal"
      data-target="#exampleModal" -->
    <button
      type="button"
      class="btn btn-light"
      data-toggle="modal"
      data-target="#myModal"
    >
      <img img src="./assets/camara.png" width="30" height="30" />
      <!-- Cargar foto -->
    </button>

    <button
      type="button"
      class="btn btn-secondary"
      (click)="getCurrentPosition()"
    >
      Guardar
    </button>
  </div>
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
      <div class="card" style="width: 25rem">
        <div class="card-body">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">
                &times;
              </button>
              <!-- <h4 class="modal-title">Modal Header</h4> -->

              <!-- <div class="text-center">
                <img
                  [src]="imgSrc"
                  width="150px"
                  height="150px"
                  (click)="fileUploader.click()"
                />
              </div> -->
      
              <!-- <button type="button" class="close" data-dismiss="modal">&times;</button> -->
      

            </div>
            <div class="modal-body">

              <div class="form-group">
<div class="contenedor">
  <div class="contenedor_formulario">
    <h1 class="is-size-1">Subir archivos a Cloud Storage</h1>
    <p class="download" *ngIf="finalizado">URL de descarga: <a href="{{ URLPublica }}" target="_blank">Descargar</a></p>
    <form [formGroup]="archivoForm" (ngSubmit)="subirArchivo()">
  
        
      <div class="file has-name is-boxed">
        <label class="file-label">
          <input class="file-input" type="file" formControlName="archivo" (change)="cambioArchivo($event)">
          <span class="file-cta">
            <span class="file-label">
              Elegir un archivo…
            </span>
          </span>
          <span class="file-name">
            {{ mensajeArchivo }}
          </span>
        </label>
      </div>
      <hr>
      <progress class="progress-bar" [value]="porcentaje"></progress>
      <!-- <progress *ngIf="porcentaje > 0 && porcentaje < 100" class="progress is-large is-success" value="{{porcentaje}}" max="100">{{porcentaje}}%</progress> -->
      <button [ngClass]="{'button': true, 'is-success': true, 'is-large': true, 'is-loading': porcentaje > 0 && porcentaje < 100}" [disabled]="!archivoForm.valid && (porcentaje > 0 && porcentaje < 100)">Subir archivo</button>
    </form>
  </div>
</div>
                <!-- <label>Seleccione una foto</label> -->
                <!-- <input
                  type="file"
                  accept="image/*"
                  class="form-control"
                  #fileUploader
                  (change)="showPreview($event)"
                />
               
              </div>            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-default"
                data-dismiss="modal"
              >
                
              <div class="form-group col-md-6">
                <button type="submit" class="btn btn-success" (click)="guardar()">Guardar</button>
              </div>
      
              </button> -->

              </div>
            </div>
          </div>
          <!-- <div
        class="modal fade"
        id="exampleModal"
        tabindex="-1"
        role="dialog"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="text-center">
          <img
            [src]="imgSrc"
            width="150px"
            height="150px"
            (click)="fileUploader.click()"
          />
        </div>

        <div class="form-group">
          <label>Seleccione una foto</label>
          <input
            type="file"
            accept="image/*"
            class="form-control"
            #fileUploader
            (change)="showPreview($event)"
          />
           <input type="file" accept="image/*" class="form-control" #fileUploader formControlName="imageUrl"
        (change)="showPreview($event)"> 
        </div>
        <button type="button" class="close" data-dismiss="modal">&times;</button>

        <div class="form-group col-md-3">
          <button type="submit" class="btn btn-success btn-block float-right" (click)="guardar()">Guardar</button>
        </div>

      </div> -->
        </div>
      </div>
    </div>
  </div>
</form>

<!-- <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          ...
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div> -->
