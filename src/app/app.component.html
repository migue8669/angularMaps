<!-- <form #myForm="ngForm" class="containerDiv">
  <div class="col-xs-3" style="text-align: center">
    <h1>Registro de animales perdidos o abandonados</h1>
    <h6>Elige el tipo de reporte que realizarás</h6>
    <input
      id="checkPerdida"
      type="checkbox"
      [(ngModel)]="opcion1"
      name="check"
    />Pérdida<br />
    <input
      id="checkAbandono"
      type="checkbox"
      [(ngModel)]="opcion2"
      name="check1"
    />Abandono<br />

    <textarea
      class="col-4"
      type="textArea"
      [(ngModel)]="pets.reporte"
      name="reporte"
      placeholder="Describe los hechos"
    ></textarea>
    <br />

    <button
      type="button"
      class="btn btn-light"
      style="margin: 10px"
      data-toggle="modal"
      data-target="#myModalPicture"
    >
      <img img src="./assets/camara.png" width="30" height="30" />
    </button>

    <button
      type="button"
      class="btn btn-secondary"
      style="margin: 10px"
      (click)="primerReporte()"
    >
      Guardar
    </button>
  </div>
</form> -->
<!-- <div>
  <div class="map-responsive">
    <agm-map
      [latitude]="lat"
      [longitude]="lng"
      [zoom]="zoom"
      [mapTypeId]="mapTypeId"
    >
      <agm-marker [latitude]="lat" [longitude]="lng">
        <agm-info-window (ngModelChange)="(pets.reporte)"> </agm-info-window>
      </agm-marker>
      <agm-marker
        *ngFor="let mascota of mascotass; let i = index"
        [latitude]="mascota.lat"
        [longitude]="mascota.long"
        [id]="mascota.$key"
      >
        <agm-info-window>
          <img width="230" height="170" [src]="mascota.foto" />
          <div>
            <br />
            {{ mascota.tipoReporte }}
            <h6>Reporte:</h6>
            {{ mascota.reporte }}
            <br />
            <h6>Actualización del reporte:</h6>
            <button
              type="button"
              value="Mostrar"
              (click)="openDialogo(mascota.segundoReporte)"
              class="btn btn-primary btn-sm"
              data-toggle="modal"
              data-target="#actualizacionModal"
            >
              Mostrar
            </button>

             {{ mascota.segundoReporte }} 
          </div>
          <br />
          <div class="center">
            <button
              type="button"
              style="margin: 8px"
              class="btn btn-primary btn-sm"
              data-toggle="modal"
              data-target="#myModalRespuesta"
              name="btn-newR"
              value="mascota.key"
              (click)="openDialog(mascota.$key)"
            >
              Nuevo Reporte
            </button>
          </div>
        </agm-info-window>
      </agm-marker>
    </agm-map>
  </div>
</div> -->

<!-- 
<div class="modal fade" id="myModalRespuesta" role="dialog">
  <div class="modal-dialog">
    <div class="card" style="width: 25rem">
      <div class="card-body">
        <div class="modal-content">
            <div class="contenedor">
              <div class="contenedor_formulario" style="margin: 10px;"> 
                <div>
                  <button
                    type="button"
                    style="margin: 10px"
                    class="close"
                    data-dismiss="modal"
                  >
                    &times;
                  </button>
                  <h5>¿Que sabes de éste caso?</h5>
                </div>
                <textarea
                  class="col-10"
                  type="textArea"
                  [(ngModel)]="pets.segundoReporte"
                  name="segundoReporte"
                  placeholder="Describe los hechos"
                >
                </textarea>
                <br />
                <button
                  style="margin: 10px"
                  class="btn btn-primary"
                  (click)="segundoReporte()"
                >
                  guardar
                </button>
            
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div> -->

<!-- <div class="modal fade" id="myModalPicture" role="dialog">
  <div class="modal-dialog">
    <div class="card" style="width: 25rem">
      <div class="card-body">
        <div class="modal-content">
          <div class="modal-header">
              <h4 >Subir foto</h4>
            <button type="button" class="close" data-dismiss="modal">
              &times;
            </button>
          </div>

          <div class="contenedor">
            <div class="contenedor_formulario">
             
              <<p class="download" *ngIf="finalizado">
                  URL de descarga:
                  <a href="{{ URLPublica }}" target="_blank">Descargar</a>
                </p> 
              <form [formGroup]="archivoForm" (ngSubmit)="subirArchivo()">
                <div class="file has-name is-boxed">
                  <label class="file-label">
                    <input
                      class="file-input"
                      type="file"
                      formControlName="archivo"
                      (change)="cambioArchivo($event)"
                    />
                    <span class="file-cta">
                        <span class="file-label"> Elegir un archivo… </span>
                      </span> 
                    <span class="file-name">
                      {{ mensajeArchivo }}
                    </span>
                  </label>
                </div>
                <hr />
                <div class="center">
                <progress
                  *ngIf="porcentaje > 0 && porcentaje < 100"
                  class="progress is-large is-success"
                  value="{{ porcentaje }}"
                  max="100"
                >
                  {{ porcentaje }}%
                </progress>
                <button
                style="margin: 10px"

                  class="btn btn-primary"
                  [ngClass]="{
                    button: true,
                    'is-success': true,
                    'is-large': true,
                    'is-loading': porcentaje > 0 && porcentaje < 100
                  }"
                  [disabled]="
                    !archivoForm.valid && porcentaje > 0 && porcentaje < 100
                  "
                >
                  Subir archivo
                </button>
              </div>
                 <input class="btnCamera" type="file"  accept="image/*" capture="camera"> 
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div> -->
<app-mapa-form [selectedImage]="selectedImage" (textoCambiado)="textoHijo1=$event" (textoCambiado2)="textoHijo11=$event"></app-mapa-form>
<app-respuesta-model [textoHijo2]="textoHijo1" [textoHijo21]="textoHijo11"></app-respuesta-model>
<app-imagen-model (url)="selectedImage=$event" ></app-imagen-model>


<div class="modal fade" id="actualizacionModal" role="dialog">
  <div class="modal-dialog">
    <div class="card" style="width: 25rem">
      <div class="card-body">
        <div class="modal-content">
          <div class="modal-header">
            <div class="contenedor">
              <div class="contenedor_formulario">
                <div>
                  <button
                    type="button"
                    style="margin: 10px"
                    class="close"
                    data-dismiss="modal"
                  >
                    &times;
                  </button>
                  {{ segundoReporteView }}
        
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
